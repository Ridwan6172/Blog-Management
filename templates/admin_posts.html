{% extends "base.html" %}
{% block title %}Admin Panel{% endblock %}
{% block content %}
<h2>Manage Blog Posts</h2>
<table class="table table-striped">
    <tr>
        <th>Title</th>
         <th>Content</th>
        <th>Author</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>
    {% for post in posts %}
    <tr>
        <td>{{ post.title }}</td>
         <td><p class="card-text">{{ post.content[:150] }}...</p>
<a href="/post/{{ post.id }}" class="btn btn-primary">Read More</a></td>
        <td>{{ post.author_name }}</td>
        <td><span class="badge {% if post.status == 'published' %}bg-success{% else %}bg-warning{% endif %}">{{ post.status }}</span></td>
        <td>
            {% if post.status == 'pending' %}
                <a href="/publish_post/{{ post.id }}" class="btn btn-success btn-sm">Publish</a>
            {% else %}
                <a href="/unpublish_post/{{ post.id }}" class="btn btn-danger btn-sm">Unpublish</a>
            {% endif %}
            
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}